{% block content %}

<br>
<br>
<br>

<form method="GET" style="display: inline;">
    <input type="hidden" name="up_vote_total" value="{{ my_filter.form.up_vote_total.value }}">
    <button type="submit" name="sort" value="desc">Top</button>
    <button type="submit" name="sort" value="newest">Newest</button>
</form>

{% if post_data %}
{% for x in list_page %}
<div class="card text-center" style="padding: 15px; margin: 20px; border-radius: 20px; top: 50px; border: solid #ec6f00 3px;">
    <div class="card-header">
        <h5 class="card-title">{{ x.post_name }}</h5>
    </div>
    <div class="card-body">
        <!--<h5 class="card-title">{{ x.post_name }}</h5>-->
        <p class="card-text">{{ x.main_weapon.weapon_name }}</p>
    </div>
    <div class="card-footer text-muted">
        <a href="{% url 'post_details' x.id%}">View Post</a>
        <span>({{ x.up_vote_total }})</span>
        <span>{{ x.created_date }}</span>
    </div>
</div>
{% endfor %}
{% else %}
<p>No Posts</p>
{% endif %}

<br>
<br>

<ul class="pagination justify-content-center">
    <li class="page-item">
        {% if list_page.has_previous %}
            <a class="page-link" href="?page={{ list_page.previous_page_number }}&up_vote_total={{ my_filter.form.up_vote_total.value }}&sort={{ request.GET.sort }}">Previous</a>
        {% endif %}
    </li>
    <li class="page-item">
        <a class="page-link"> Page {{ list_page.number }} of {{ list_page.paginator.num_pages }}</a>
    </li>
    <li class="page-item">
        {% if list_page.has_next %}
            <a class="page-link" href="?page={{ list_page.next_page_number }}&up_vote_total={{ my_filter.form.up_vote_total.value }}&sort={{ request.GET.sort }}">Next</a>
        {% endif %}
    </li>
</ul>
{% endblock %} 